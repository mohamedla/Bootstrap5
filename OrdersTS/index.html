<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orders</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="float">
        
      </div>

      <div class="mainBar">
        <span class="indexName"> Our Orders </span>
      </div>

      <div class="orders"></div>
    </div>

    <script src="./dist/dist/sql-wasm.js"></script>
    <!-- <script type="module" src="dist/interfaces.js"></script> -->
    <script src="dist/index.js"></script>
    <!-- <script src="dist/bundle.js"></script> -->
    <!-- <script>
        window.onload = async function() {
          config = {
          locateFile: filename => `/dist/dist/${filename}`
        }
        initSqlJs(config).then(function(SQL){
          console.log(11111);
        });

          const sqlPromise = await initSqlJs({
            locateFile: file => `/dist/dist/${file}`
          });

          const dataPromise = fetch("/orders.db").then(res => res.arrayBuffer());

          const [SQL, buf] = await Promise.all([sqlPromise, dataPromise]);
          window.dbConnection  = new SQL.Database(new Uint8Array(buf));

          const worker = new Worker("/dist/dist/worker.sql-wasm.js");
          worker.onmessage = () => {
            console.log("Database opened");
            worker.onmessage = event => {
              window.clients = event.data.results[0].values
              console.log(event.data); // The result of the query
            };

            worker.postMessage({
              id: 2,
              action: "exec",
              sql: "SELECT * FROM Clients",
              
            });
          };

          worker.onerror = e => console.log("Worker error: ", e);
          worker.postMessage({
            id:1,
            action:"open",
            buffer:buf, /*Optional. An ArrayBuffer representing an SQLite Database file*/
          });
      } -->
    <!-- </script> -->
  </body>
</html>
